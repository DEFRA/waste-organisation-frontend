{% extends "govuk/template.njk" %}

{# Import GOVUK components globally #}
{% from "govuk/components/breadcrumbs/macro.njk" import govukBreadcrumbs %}
{% from "govuk/components/service-navigation/macro.njk" import govukServiceNavigation %}

{# Import custom components globally #}
{% from "heading/macro.njk" import appHeading %}

{% from "govuk/components/phase-banner/macro.njk" import govukPhaseBanner %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}

{% block head %}
  <link
    href="{{ getAssetPath('stylesheets/application.scss') }}"
    rel="stylesheet"
/>
{% endblock %}

{% block header %}
  {# serviceName being used in govukHeader will be @deprecated in v6. It has moved to govukServiceNavigation - https://github.com/alphagov/govuk-frontend/blob/main/CHANGELOG.md#move-service-name-and-navigation-links-from-the-govuk-header-to-service-navigation-component #}
  {{
    govukHeader({
      homepageUrl: "https://www.gov.uk/",
      classes: "app-header",
      containerClasses: "govuk-width-container",
      useTudorCrown: true
    })
  }}

  {{
    govukServiceNavigation({
      serviceName: serviceName,
      serviceUrl: serviceUrl,
      classes: "govuk-!-margin-bottom-2"
    })
  }}
{% endblock %}

{% block pageTitle %}
  {{ pageTitle }} | {{ serviceName }}
{% endblock %}

{% block beforeContent %}
  {{
    govukPhaseBanner({
    tag: {
      text: "Beta"
    },
    html: 'This is a new service. Help us improve it and <a class="govuk-link" href="#">give your feedback (opens in new tab)</a>.'
    })
  }}

  {% if breadcrumbs.length > 1 %}
    {{
      govukBreadcrumbs({
        items: breadcrumbs
      })
    }}
  {% endif %}

  {% if hideBackLink === false or hideBackLink === undefined %}
    {{ govukBackLink({
      text: "Back",
      href: "#"
    }) }}
  {% endif %}
{% endblock %}

{% block content %}{% endblock %}

{% block footer %}
  {{
    govukFooter({
      meta: {
        items: [
          {
            href: "https://www.gov.uk/help/privacy-notice",
            text: "Privacy"
          },
          {
            href: "https://www.gov.uk/help/cookies",
            text: "Cookies"
          },
          {
            href: "https://www.gov.uk/help/accessibility-statement",
            text: "Accessibility statement"
          }
        ]
      }
    })
  }}
{% endblock %}

{% block bodyEnd %}
  <script type="module" src="{{ getAssetPath('application.js') }}"></script>
{% endblock %}
